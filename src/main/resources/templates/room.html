<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <div style="background:white; width:25%; margin:0 auto; padding:30px; border-radius:15px;">
        <h3 class="border-bottom pb-2">채팅 목록</h3>
        <div th:if="${roomList.isEmpty()}" class="p-5 text-center">
            <h3 style="color:gray;">채팅 내역 없음</h3>
        </div>
        <ul class="list-group" th:if="${!roomList.isEmpty()}">
            <li class="list-group-item d-flex justify-content-between align-items-center"
                th:each="chat : ${roomList}" th:classappend="${chat.room == room} ? 'active'">
                <div>
                    <a th:if="${user.loginId.equals(chat.writer.loginId)}" th:href="@{|/chat/join/${chat.room}|}"
                       th:text="|${chat.target.name}님과 대화|"></a>
                    <a th:if="${user.loginId.equals(chat.target.loginId)}" th:href="@{|/chat/join/${chat.room}|}"
                       th:text="|${chat.writer.name}님과 대화|"></a>
                    <span th:id="|alarm_${chat.room}|" class="badge bg-danger text-light"
                          style="display:none;">N</span>
                </div>
                <form th:action="@{|/chat/delete/${chat.room}}" method="post">
                    <button type="submit" class="btn btn-sm 버튼">삭제</button>
                </form>
            </li>
        </ul>
    </div>
</div>
</html>